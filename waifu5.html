<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .imgs{
        display: flex;
        gap:10px;
        overflow-x: scroll;
        scroll-snap-type:mandatory;
    }
    img{
        width: 100vw;
        /* height: 100vh; */
        aspect-ratio:"16:9";       
    }
</style>
<body>
<div class="imgs">
    <img src="" alt="" id="img" srcset="">

</div>
    <select name="" id="type"></select>

    <script>
const lists=['neko', 'waifu', 'husbando', 'kitsune', 'lurk', 'shoot', 'sleep', 'shrug', 'stare', 'wave', 'poke', 'smile', 'peck', 'wink', 'blush', 'smug', 'tickle', 'yeet', 'think', 'highfive', 'feed', 'bite', 'bored', 'nom', 'yawn', 'facepalm', 'cuddle', 'kick', 'happy', 'hug', 'baka', 'pat', 'angry', 'run', 'nod', 'nope', 'kiss', 'dance', 'punch', 'handshake', 'slap', 'cry', 'pout', 'handhold', 'thumbsup', 'laugh']
lists.forEach(l=>{
    document.querySelector("#type").innerHTML+=`<option value="${l}">${l}</option>`
})
document.querySelector("#type").addEventListener("change",s=>{
    location.search="?sfw=" +s.target.value
})
        urlPath=location.search.slice(1,).split("=")[1]
const apiUrl = 'https://nekos.best/api/v2/'+urlPath;
const params = {
//   included_tags: ['raiden-shogun', 'maid'],
  height: '>=2000',
//   is_nsfw:"true",
// gif:true,
limit:20
};


const queryParams = new URLSearchParams();

for (const key in params) {
  if (Array.isArray(params[key])) {
    params[key].forEach(value => {
      queryParams.append(key, value);
    });
  } else {
    queryParams.set(key, params[key]);
  }
}
const requestUrl = `${apiUrl}?${queryParams.toString()}`;

fetch(requestUrl)
  .then(response => {
    if (response.ok) {
      return response.json();
    } else {
      throw new Error('Request failed with status code: ' + response.status);
    }
  })
  .then(data => {
    // Process the response data as needed
    console.log(data);
    document.querySelector("#img").src=(data.results[0].url)

  })
  .catch(error => {
    console.error('An error occurred:', error.message);
  });

    </script>
</body>
</html>